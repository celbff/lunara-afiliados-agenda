<!-- telas/login.html -->
<main>
  <h1>Login</h1>
  <input type="email" id="email" placeholder="Email" />
  <input type="password" id="password" placeholder="Senha" />
  <button onclick="realizarLogin()">Entrar</button>
  <p id="mensagem-erro" style="color: red; display: none;">Usuário ou senha inválidos.</p>
</main>

<script type="module">
  import { login } from '/src/services/auth.js';

  async function realizarLogin() {
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    const mensagemErro = document.getElementById('mensagem-erro');

    // Limpa mensagem de erro anterior
    mensagemErro.style.display = 'none';

    try {
      await login(email, password);
      alert('Login bem-sucedido!');
      // Redireciona para a página inicial ou dashboard
      window.location.href = '/telas/afiliado.html'; // Exemplo de redirecionamento
    } catch (error) {
      console.error('Erro ao fazer login:', error.message);
      // Exibe mensagem de erro
      mensagemErro.style.display = 'block';
      mensagemErro.textContent = 'Usuário ou senha inválidos.';
    }
  }
</script>
